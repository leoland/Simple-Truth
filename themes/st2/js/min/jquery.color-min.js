!function(r,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(r.jQuery)}(this,function(r,n){function t(r,n,t){var e=f[n.type]||{};return null==r?t||!n.def?null:n.def:(r=e.floor?~~r:parseFloat(r),isNaN(r)?n.def:e.mod?(r+e.mod)%e.mod:0>r?0:e.max<r?e.max:r)}function e(n){var t=u(),e=t._rgba=[];return n=n.toLowerCase(),h(s,function(r,o){var a,i=o.re.exec(n),s=i&&o.parse(i),u=o.space||"rgba";return s?(a=t[u](s),t[l[u].cache]=a[l[u].cache],e=t._rgba=a._rgba,!1):void 0}),e.length?("0,0,0,0"===e.join()&&r.extend(e,d.transparent),t):d[n]}function o(r,n,t){return t=(t+1)%1,1>6*t?r+(n-r)*t*6:1>2*t?n:2>3*t?r+(n-r)*(2/3-t)*6:r}var a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],u=r.Color=function(n,t,e,o){return new r.Color.fn.parse(n,t,e,o)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=u.support={},p=r("<p>")[0],d,h=r.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,h(l,function(r,n){n.cache="_"+r,n.props.alpha={idx:3,type:"percent",def:1}}),u.fn=r.extend(u.prototype,{parse:function(o,a,i,s){if(o===n)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=r(o).css(a),a=n);var f=this,c=r.type(o),p=this._rgba=[];return a!==n&&(o=[o,a,i,s],c="array"),"string"===c?this.parse(e(o)||d._default):"array"===c?(h(l.rgba.props,function(r,n){p[n.idx]=t(o[n.idx],n)}),this):"object"===c?(o instanceof u?h(l,function(r,n){o[n.cache]&&(f[n.cache]=o[n.cache].slice())}):h(l,function(n,e){var a=e.cache;h(e.props,function(r,n){if(!f[a]&&e.to){if("alpha"===r||null==o[r])return;f[a]=e.to(f._rgba)}f[a][n.idx]=t(o[r],n,!0)}),f[a]&&r.inArray(null,f[a].slice(0,3))<0&&(f[a][3]=1,e.from&&(f._rgba=e.from(f[a])))}),this):void 0},is:function(r){var n=u(r),t=!0,e=this;return h(l,function(r,o){var a,i=n[o.cache];return i&&(a=e[o.cache]||o.to&&o.to(e._rgba)||[],h(o.props,function(r,n){return null!=i[n.idx]?t=i[n.idx]===a[n.idx]:void 0})),t}),t},_space:function(){var r=[],n=this;return h(l,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var e=u(r),o=e._space(),a=l[o],i=0===this.alpha()?u("transparent"):this,s=i[a.cache]||a.to(i._rgba),c=s.slice();return e=e[a.cache],h(a.props,function(r,o){var a=o.idx,i=s[a],u=e[a],l=f[o.type]||{};null!==u&&(null===i?c[a]=u:(l.mod&&(u-i>l.mod/2?i+=l.mod:i-u>l.mod/2&&(i-=l.mod)),c[a]=t((u-i)*n+i,o)))}),this[o](c)},blend:function(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),o=u(n)._rgba;return u(r.map(t,function(r,n){return(1-e)*o[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null==r?n>2?1:0:r});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join()+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&3>n&&(r=Math.round(100*r)+"%"),r});return 1===t[3]&&(t.pop(),n="hsl("),n+t.join()+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r){return r=(r||0).toString(16),1===r.length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,l.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/255,t=r[1]/255,e=r[2]/255,o=r[3],a=Math.max(n,t,e),i=Math.min(n,t,e),s=a-i,u=a+i,l=.5*u,f,c;return f=i===a?0:n===a?60*(t-e)/s+360:t===a?60*(e-n)/s+120:60*(n-t)/s+240,c=0===s?0:.5>=l?s/u:s/(2-u),[Math.round(f)%360,c,l,null==o?1:o]},l.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],a=r[3],i=.5>=e?e*(1+t):e+t-e*t,s=2*e-i;return[Math.round(255*o(s,i,n+1/3)),Math.round(255*o(s,i,n)),Math.round(255*o(s,i,n-1/3)),a]},h(l,function(e,o){var a=o.props,s=o.cache,l=o.to,f=o.from;u.fn[e]=function(e){if(l&&!this[s]&&(this[s]=l(this._rgba)),e===n)return this[s].slice();var o,i=r.type(e),c="array"===i||"object"===i?e:arguments,p=this[s].slice();return h(a,function(r,n){var e=c["object"===i?r:n.idx];null==e&&(e=p[n.idx]),p[n.idx]=t(e,n)}),f?(o=u(f(p)),o[s]=p,o):u(p)},h(a,function(n,t){u.fn[n]||(u.fn[n]=function(o){var a=r.type(o),s="alpha"===n?this._hsla?"hsla":"rgba":e,u=this[s](),l=u[t.idx],f;return"undefined"===a?l:("function"===a&&(o=o.call(this,l),a=r.type(o)),null==o&&t.empty?this:("string"===a&&(f=i.exec(o),f&&(o=l+parseFloat(f[2])*("+"===f[1]?1:-1))),u[t.idx]=o,this[s](u)))})})}),u.hook=function(n){var t=n.split(" ");h(t,function(n,t){r.cssHooks[t]={set:function(n,o){var a,i,s="";if("transparent"!==o&&("string"!==r.type(o)||(a=e(o)))){if(o=u(a||o),!c.rgba&&1!==o._rgba[3]){for(i="backgroundColor"===t?n.parentNode:n;(""===s||"transparent"===s)&&i&&i.style;)try{s=r.css(i,"backgroundColor"),i=i.parentNode}catch(l){}o=o.blend(s&&"transparent"!==s?s:"_default")}o=o.toRgbaString()}try{n.style[t]=o}catch(l){}}},r.fx.step[t]=function(n){n.colorInit||(n.start=u(n.elem,t),n.end=u(n.end),n.colorInit=!0),r.cssHooks[t].set(n.elem,n.start.transition(n.end,n.pos))}})},u.hook(a),r.cssHooks.borderColor={expand:function(r){var n={};return h(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=r}),n}},d=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}});